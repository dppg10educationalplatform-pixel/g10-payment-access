<!DOCTYPE html>
<html>
<head>
  <title>Pay Fees – G10</title>
</head>
<body>

<h2>G10 Educational Platform</h2>
<button id="payBtn">Pay ₹1</button>

<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
document.getElementById("payBtn").onclick = async () => {

  // 1️⃣ Get order from backend
  const res = await fetch("/create-order", { method: "POST" });
  const order = await res.json();

  // 2️⃣ Open Razorpay
  const options = {
    key: "rzp_live_RuzRtEr4loxVYw",
    amount: order.amount,
    currency: "INR",
    order_id: order.id,

    handler: function (response) {
      localStorage.setItem("paymentData", JSON.stringify(response));
      window.location.href = "success.html";
    }
  };

  new Razorpay(options).open();
};
</script>

</body>
</html>
