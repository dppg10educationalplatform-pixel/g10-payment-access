<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pay Fees ‚Äì G10 Educational Platform</title>
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>

<h2>G10 Educational Platform</h2>
<p>Pay Tuition Fee ‚Äì 365 Days Access</p>
<button id="payBtn">Pay ‚Çπ1</button>

<script>
document.getElementById("payBtn").onclick = async function () {

  // 1Ô∏è‚É£ CREATE ORDER (SERVER CALL)
  const res = await fetch("/create-order", {
    method: "POST"
  });
  const order = await res.json();

  // 2Ô∏è‚É£ OPEN RAZORPAY WITH ORDER ID
  const options = {
    key: "rzp_live_RuzRtEr4loxVYw", // PUBLIC KEY ONLY
    amount: order.amount,
    currency: "INR",
    name: "G10 Educational Platform",
    description: "Tuition Fee ‚Äì 365 Days Access",
    order_id: order.id, // üî• THIS FIXES EVERYTHING
    handler: function (response) {
      localStorage.setItem("paymentData", JSON.stringify(response));
      window.location.href = "success.html";
    }
  };

  new Razorpay(options).open();
};
</script>

</body>
</html>
